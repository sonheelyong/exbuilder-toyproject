<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="class">

   <select id="getclass"
   resultType="com.example.demo.vo.ClassVo">
   SELECT * 
   FROM CLASS_TB
   </select>
   
   <select id="serchclass"
   resultType="com.example.demo.vo.ClassVo">
   SELECT * 
   FROM CLASS_TB 
   WHERE UPPER(CLASS_NAME) LIKE '%'||UPPER(#{name})||'%'
   </select>

   <insert id="regiClass"
    parameterType="HashMap">
    INSERT INTO REGI_TB (REGI_NO, USER_ID, CODE)
    VALUES (emp_seq.NEXTVAL, #{user_id}, #{code})   
   </insert>
   
   <select id="checkClass"
   resultType="Int" parameterType="HashMap">
   SELECT count(*)
   FROM REGI_TB
   WHERE CODE = #{code} and USER_ID = #{user_id}
   </select>
   
   <delete id="cancle"
   parameterType="HashMap">
   DELETE FROM REGI_TB
   WHERE CODE = #{code} and USER_ID = #{user_id}
   </delete>
</mapper>
